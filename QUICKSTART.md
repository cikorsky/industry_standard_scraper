# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ç¯å¢ƒå‡†å¤‡

### 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```bash
python3 -m venv venv
source venv/bin/activate  # Mac/Linux
# æˆ–
venv\Scripts\activate  # Windows
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
playwright install chromium
```

## ä½¿ç”¨æ–¹å¼

### æ–¹å¼ä¸€:ä»…çˆ¬å–æ ‡å‡†æ¸…å•(æ¨èå…ˆä½¿ç”¨)

```bash
source venv/bin/activate
python scraper_list_only.py
```

**è¯´æ˜**:
- åªçˆ¬å–åˆ—è¡¨é¡µå’Œè¯¦æƒ…é¡µä¿¡æ¯
- ä¸ä¸‹è½½PDFæ–‡ä»¶
- é€Ÿåº¦è¾ƒå¿«,é€‚åˆå¿«é€Ÿè·å–æ•°æ®
- è¾“å‡ºæ–‡ä»¶:`output/standards.xlsx`

### æ–¹å¼äºŒ:å®Œæ•´çˆ¬å–(åŒ…å«PDFä¸‹è½½)

```bash
source venv/bin/activate
python scraper.py
```

**è¯´æ˜**:
- çˆ¬å–åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µå’ŒPDFæ–‡ä»¶
- éœ€è¦æ‰‹åŠ¨è¾“å…¥éªŒè¯ç (å› ä¸ºddddocråœ¨Python 3.14ä¸Šä¸å…¼å®¹)
- è¾“å‡ºæ–‡ä»¶:
  - `output/standards.xlsx` - æ ‡å‡†æ¸…å•
  - `output/pdfs/` - PDFæ–‡ä»¶ç›®å½•

### æ–¹å¼ä¸‰:æµ‹è¯•å•ä¸ªè¯¦æƒ…é¡µ

```bash
source venv/bin/activate
python test_detail_page.py
```

**è¯´æ˜**:
- æµ‹è¯•å•ä¸ªè¯¦æƒ…é¡µçš„æ•°æ®æå–
- ç”¨äºéªŒè¯çˆ¬è™«é€»è¾‘
- ä¼šç”Ÿæˆæˆªå›¾:`test_detail_page.png`

## é…ç½®è¯´æ˜

ç¼–è¾‘ `config.py` æ–‡ä»¶è¿›è¡Œé…ç½®:

### 1. ç­›é€‰æ¡ä»¶

```python
FILTER_CONFIG = {
    "department": "åº”æ€¥ç®¡ç†éƒ¨",  # éƒ¨å§”ç­›é€‰
    "industry_code": "AQ",      # è¡Œä¸šä»£ç ç­›é€‰
    "status": None,             # æ ‡å‡†çŠ¶æ€ç­›é€‰
}
```

**ç¤ºä¾‹**:
- åªçˆ¬å–åº”æ€¥ç®¡ç†éƒ¨çš„æ ‡å‡†:`{"department": "åº”æ€¥ç®¡ç†éƒ¨", "industry_code": None}`
- åªçˆ¬å–AQè¡Œä¸šçš„æ ‡å‡†:`{"department": None, "industry_code": "AQ"}`
- çˆ¬å–æ‰€æœ‰æ ‡å‡†:`{"department": None, "industry_code": None}`

### 2. æµè§ˆå™¨è®¾ç½®

```python
BROWSER_CONFIG = {
    "headless": False,  # False=æ˜¾ç¤ºæµè§ˆå™¨çª—å£, True=æ— å¤´æ¨¡å¼
    "timeout": 30000,   # é¡µé¢åŠ è½½è¶…æ—¶(æ¯«ç§’)
}
```

**å»ºè®®**:
- è°ƒè¯•æ—¶ä½¿ç”¨`headless=False`,å¯ä»¥çœ‹åˆ°æµè§ˆå™¨æ“ä½œè¿‡ç¨‹
- æ­£å¼è¿è¡Œæ—¶ä½¿ç”¨`headless=True`,æé«˜æ€§èƒ½

### 3. å»¶è¿Ÿè®¾ç½®

```python
DELAY_CONFIG = {
    "list_page": (1, 2),      # åˆ—è¡¨é¡µç¿»é¡µå»¶è¿Ÿ(ç§’)
    "detail_page": (2, 4),    # è¯¦æƒ…é¡µè®¿é—®å»¶è¿Ÿ(ç§’)
    "download": (3, 5),       # PDFä¸‹è½½å»¶è¿Ÿ(ç§’)
}
```

**è¯´æ˜**:
- å»¶è¿ŸèŒƒå›´ä¸ºéšæœºå€¼,é¿å…è¢«åçˆ¬è™«æ£€æµ‹
- å¯ä»¥æ ¹æ®ç½‘ç»œæƒ…å†µè°ƒæ•´

## è¾“å‡ºæ–‡ä»¶

### 1. æ ‡å‡†æ¸…å•è¡¨ (`output/standards.xlsx`)

åŒ…å«ä»¥ä¸‹å­—æ®µ:
- åºå·ã€æ ‡å‡†å·ã€æ ‡å‡†åç§°ã€è¡Œä¸šé¢†åŸŸã€çŠ¶æ€
- å‘å¸ƒæ—¥æœŸã€å®æ–½æ—¥æœŸã€åˆ¶ä¿®è®¢ã€ä»£æ›¿æ ‡å‡†
- CCSåˆ†ç±»å·ã€ICSåˆ†ç±»å·ã€æ‰¹å‡†å‘å¸ƒéƒ¨é—¨ã€æ ‡å‡†ç±»åˆ«
- å¤‡æ¡ˆå·ã€å¤‡æ¡ˆæ—¥æœŸã€èµ·è‰å•ä½ã€èµ·è‰äºº
- PDFæ–‡ä»¶åã€è¯¦æƒ…é¡µé“¾æ¥

### 2. PDFæ–‡ä»¶ (`output/pdfs/`)

æ–‡ä»¶å‘½åæ ¼å¼:`æ ‡å‡†ä»£ç -æ ‡å‡†åç§°.pdf`

ç¤ºä¾‹:`AQ 7006â€”2025-ç™½é…’ç”Ÿäº§å®‰å…¨è§„èŒƒ.pdf`

### 3. æ—¥å¿—æ–‡ä»¶ (`logs/scraper.log`)

è®°å½•çˆ¬è™«è¿è¡Œçš„è¯¦ç»†æ—¥å¿—,åŒ…æ‹¬:
- è®¿é—®çš„URL
- æå–çš„æ•°æ®
- é”™è¯¯ä¿¡æ¯
- è¿›åº¦ä¿¡æ¯

### 4. æ£€æŸ¥ç‚¹æ–‡ä»¶ (`output/checkpoint.xlsx`)

ç”¨äºæ–­ç‚¹ç»­çˆ¬,ç¨‹åºä¼šè‡ªåŠ¨ä¿å­˜è¿›åº¦ã€‚

## å¸¸è§é—®é¢˜

### 1. éªŒè¯ç è¾“å…¥

è¿è¡ŒPDFä¸‹è½½æ—¶,ä¼šæç¤º:

```
è¯·æŸ¥çœ‹éªŒè¯ç å›¾ç‰‡: /path/to/temp_captcha.png
è¯·è¾“å…¥éªŒè¯ç :
```

æ‰“å¼€å›¾ç‰‡,æŸ¥çœ‹éªŒè¯ç ,ç„¶ååœ¨ç»ˆç«¯è¾“å…¥å³å¯ã€‚

### 2. ä¸­æ–­åå¦‚ä½•ç»§ç»­

ç¨‹åºä¼šè‡ªåŠ¨ä¿å­˜æ£€æŸ¥ç‚¹,é‡æ–°è¿è¡Œå³å¯ä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­ã€‚

### 3. å¦‚ä½•åªçˆ¬å–ç‰¹å®šé¡µæ•°

ä¿®æ”¹ `scraper.py` ä¸­çš„å¾ªç¯:

```python
# åŸä»£ç 
for page_num in range(1, total_pages + 1):

# ä¿®æ”¹ä¸º(åªçˆ¬å–å‰3é¡µ)
for page_num in range(1, min(4, total_pages + 1)):
```

### 4. å¦‚ä½•æŸ¥çœ‹çˆ¬å–è¿›åº¦

æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶:

```bash
tail -f logs/scraper.log
```

## æ³¨æ„äº‹é¡¹

1. **åˆè§„ä½¿ç”¨**: ä»…ç”¨äºå­¦ä¹ ç ”ç©¶,ä¸ç”¨äºå•†ä¸šç”¨é€”
2. **æ§åˆ¶é¢‘ç‡**: ä¸è¦è®¾ç½®è¿‡çŸ­çš„å»¶è¿Ÿ,é¿å…å¯¹æœåŠ¡å™¨é€ æˆå‹åŠ›
3. **æ•°æ®å‡†ç¡®æ€§**: çˆ¬å–çš„æ•°æ®ä»…ä¾›å‚è€ƒ,ä»¥å®˜æ–¹ç½‘ç«™ä¸ºå‡†
4. **ç½‘ç»œç¨³å®šæ€§**: å»ºè®®åœ¨ç½‘ç»œç¨³å®šçš„ç¯å¢ƒä¸‹è¿è¡Œ

## ç¤ºä¾‹è¿è¡Œæµç¨‹

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source venv/bin/activate

# 2. å…ˆæµ‹è¯•å•ä¸ªè¯¦æƒ…é¡µ
python test_detail_page.py

# 3. çˆ¬å–æ ‡å‡†æ¸…å•(ä¸ä¸‹è½½PDF)
python scraper_list_only.py

# 4. æŸ¥çœ‹ç»“æœ
open output/standards.xlsx

# 5. (å¯é€‰)ä¸‹è½½PDF
python scraper.py
```

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜,è¯·æŸ¥çœ‹:
1. æ—¥å¿—æ–‡ä»¶:`logs/scraper.log`
2. README.mdæ–‡æ¡£
3. ä»£ç æ³¨é‡Š

ç¥ä½¿ç”¨æ„‰å¿«! ğŸ‰
